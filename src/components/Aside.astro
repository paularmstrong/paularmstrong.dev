---
import clsx from 'clsx';
export interface Props {
	type?: 'note' | 'tip' | 'info' | 'warning' | 'danger';
	title?: string;
}

const typeToTitle = {
	note: 'Note',
	info: 'Info',
	tip: 'Tip',
	warning: 'Warning',
	danger: 'Danger',
};

const { type = 'note', title = typeToTitle[type] } = Astro.props as Props;
---

<aside
	class={clsx('prose-base mx-8 mb-4 rounded-xl px-4 py-1 text-slate-900', {
		'bg-slate-200 dark:bg-slate-800': type === 'note',
		'bg-blue-200 dark:bg-blue-800': type === 'info',
		'bg-green-200 dark:bg-green-800': type === 'tip',
		'bg-cocoa-200 dark:bg-cocoa-800': type === 'warning',
		'bg-cerise-200 dark:bg-cerise-800': type === 'danger',
	})}
	aria-label={title}
>
	<p
		aria-hidden="true"
		class={clsx('!-mb-2 text-lg font-bold', {
			'text-slate-800 dark:text-slate-200': type === 'note',
			'text-blue-800 dark:text-blue-200': type === 'info',
			'text-green-800 dark:text-green-200': type === 'tip',
			'text-cocoa-800 dark:text-cocoa-200': type === 'warning',
			'text-cerise-800 dark:text-cerise-200': type === 'danger',
		})}
	>
		<svg
			xmlns="http://www.w3.org/2000/svg"
			stroke="currentColor"
			fill="none"
			viewBox="0 0 24 24"
			stroke-width="1.5"
			class="inline h-6 w-6"
		>
			{
				type === 'tip' ? (
					<path
						stroke-linecap="round"
						stroke-linejoin="round"
						d="M12 18v-5.25m0 0a6.01 6.01 0 001.5-.189m-1.5.189a6.01 6.01 0 01-1.5-.189m3.75 7.478a12.06 12.06 0 01-4.5 0m3.75 2.383a14.406 14.406 0 01-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 10-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"
					/>
				) : type === 'note' ? (
					<path
						stroke-linecap="round"
						stroke-linejoin="round"
						d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"
					/>
				) : type === 'info' ? (
					<path
						stroke-linecap="round"
						stroke-linejoin="round"
						d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"
					/>
				) : type === 'warning' ? (
					<path
						stroke-linecap="round"
						stroke-linejoin="round"
						d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"
					/>
				) : type === 'danger' ? (
					<>
						<path
							stroke-linecap="round"
							stroke-linejoin="round"
							d="M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.361-6.867 8.21 8.21 0 003 2.48z"
						/>
						<path
							stroke-linecap="round"
							stroke-linejoin="round"
							d="M12 18a3.75 3.75 0 00.495-7.467 5.99 5.99 0 00-1.925 3.546 5.974 5.974 0 01-2.133-1A3.75 3.75 0 0012 18z"
						/>
					</>
				) : null
			}
		</svg>
		{title}
	</p>
	<section class="dark:prose-p:text-slate-100">
		<slot />
	</section>
</aside>
