---
import Page from '../../layouts/Page.astro';
import Picture from '../../components/Picture.astro';

const pages = await Astro.glob('../../../labs/**/*.mdx');
---

<Page content={{ title: 'Labs', description: 'Showcasing web experiments and projects from Paul Armstrong.' }}>
	<p>A showcase of experiments and projects.</p>

	<div class="not-prose">
		<ul class="grid auto-cols-fr grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2 md:grid-cols-3">
			{
				pages.map((page) => (
					<li>
						<a href={`/${page.url?.replace(/(?:index)\.mdx\/?$/, '')}`} class="group h-full">
							<div class="flex flex-col gap-2">
								<div class="pointer-events-none flex h-full items-center justify-center justify-self-stretch overflow-hidden rounded border border-slate-200 bg-slate-100 group-hover:shadow group-hover:shadow-blue-500/30 group-active:shadow-inner dark:border-slate-600 dark:bg-slate-700">
									<div class="w-full blur-[1px] grayscale transition duration-150 group-hover:blur-none group-hover:grayscale-0">
										<Picture
											src={page.frontmatter.heroImage.src}
											width={page.frontmatter.heroImage.width}
											height={page.frontmatter.heroImage.height}
											widths={[600, 300]}
											alt=""
										/>
									</div>
								</div>
								<div>
									<div class="text-sm font-medium">{page.frontmatter.title}</div>
									{page.frontmatter.description ? (
										<div class="text-xs text-slate-500 dark:text-slate-400">{page.frontmatter.description}</div>
									) : null}
								</div>
							</div>
						</a>
					</li>
				))
			}
		</ul>
	</div>
</Page>
